.row(ng-controller="MatchCtrl")
  .col-xs-12.col-sm-6
    form(role="form" name="matchForm")
      .form-group(ng-class="{'has-error': matchForm.email.$dirty && matchForm.email.$invalid, 'has-success': matchForm.email.$valid }")
        label.control-label(for="match_email") Email
        input#match_email.form-control(type="text" name="email" ng-model="email" required)
        span.help-block(ng-hide="matchForm.email.$pristine || !matchForm.email.$error.required")
          | Email required
        span.help-block(ng-show="matchForm.email.$valid")
          | OK

      .form-group(ng-class="{'has-error': matchForm.emailConfirmation.$dirty && matchForm.emailConfirmation.$invalid, 'has-success': matchForm.emailConfirmation.$valid }")
        label.control-label(for="match_email_confirmation") Email Confirmation
        input#match_email_confirmation.form-control(type="text" name="emailConfirmation" ng-model="emailConfirmation" ng-match="email" required)
        span.help-block(ng-hide="matchForm.emailConfirmation.$pristine || !matchForm.emailConfirmation.$error.required")
          | Email confirmation required
        span.help-block(ng-hide="matchForm.emailConfirmation.$pristine || !matchForm.emailConfirmation.$error.match")
          | Email mismatch
        span.help-block(ng-show="matchForm.emailConfirmation.$valid")
          | Great!
      button.btn.pull-right(type="submit" ng-disabled="matchForm.$invalid"
        ng-class="{'btn-default': matchForm.$invalid, 'btn-success': matchForm.$valid }")
        | Submit
  .col-xs-12.col-sm-6
    pre
      code(ng-bind="matchForm | formJson")